{% extends "base.html" %}
{% load static %}
{% block title %}Categorías{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Categorías</h3>
  <input id="q" class="form-control searchbar" placeholder="Buscar categoría...">
</div>

<div class="table-responsive">
<table class="table table-striped" id="tbl">
  <thead><tr><th>ID</th><th>Nombre</th></tr></thead>
  <tbody></tbody>
</table>
</div>

<script>
document.addEventListener('DOMContentLoaded', async () => {
  const data = await SecretoUI.loadJSON("{% static 'mock/categorias.json' %}");
  const tbody = document.querySelector("#tbl tbody");
  tbody.innerHTML = data.map(c => `<tr><td>${c.id}</td><td>${c.nombre}</td></tr>`).join("");
  SecretoUI.simpleSearch(document.getElementById('q'), document.getElementById('tbl'));
});
</script>
{% endblock %}
